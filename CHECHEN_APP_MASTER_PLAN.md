# 🎓 CHECHEN LANGUAGE LEARNING APP - MASTER PLAN

## 📋 СОДЕРЖАНИЕ

1. [Обзор проекта](#обзор-проекта)
2. [Текущая ситуация](#текущая-ситуация)
3. [MVP - Цель на 11 дней](#mvp---цель-на-11-дней)
4. [Архитектура базы данных](#архитектура-базы-данных)
5. [Стратегия структурирования контента](#стратегия-структурирования-контента)
6. [Учебная методология](#учебная-методология)
7. [Пользовательский опыт (UX Flow)](#пользовательский-опыт-ux-flow)
8. [Промпты для Claude Code](#промпты-для-claude-code)
9. [План разработки по этапам](#план-разработки-по-этапам)
10. [Бизнес-стратегия](#бизнес-стратегия)
11. [Будущее развитие](#будущее-развитие)

---

## 🎯 ОБЗОР ПРОЕКТА

### Что мы создаем?

**Чеченское языковое приложение** - мобильное приложение для изучения чеченского языка с нуля до продвинутого уровня. 

**НЕ копия Duolingo** - мы создаем ЛУЧШИЙ способ изучения чеченского языка, адаптированный под специфику языка и потребности учеников.

### Уникальные особенности чеченского языка:

1. **Классные показатели** (ву, ю, бу, ду) - нет аналогов в европейских языках
2. **Двадцатиричная система счета** - уникальная математика
3. **Эргативный падеж** - сложная грамматика
4. **9 временных форм глаголов** - богатая глагольная система
5. **Послелоги вместо предлогов** - другая логика языка

### Целевая аудитория:

- **Первичная**: Чеченцы диаспоры (не говорят на чеченском)
- **Вторичная**: Изучающие кавказские языки
- **Третичная**: Лингвисты, исследователи

---

## 📊 ТЕКУЩАЯ СИТУАЦИЯ

### Что у нас есть:

#### 1. База данных (Supabase)
- **2,163 записи** в таблице `vocabulary`
- Поля: `ce` (чеченский), `ru` (русский), `type`, `category`, `is_verified`
- **Проблема**: Данные не структурированы для обучения

#### 2. Чеченская база знаний (документ)
- **188-страничный файл** с грамматикой
- Алфавит, числительные, местоимения
- Глагольные таблицы (9 времен)
- Фразы, диалоги ("Сенсей", "Г1иллакх")
- Примеры предложений
- **Проблема**: Не разбито на уроки

#### 3. JSON данные от предыдущей обработки
- Порции 1-80 с извлеченными данными
- Словарь, фразы, глаголы
- Примеры предложений
- **Проблема**: Не связаны с основной БД

### Что у нас НЕТ (пока):

❌ Аудио записи для всех слов  
❌ Изображения для всех слов  
❌ Структурированные уроки  
❌ Упражнения  
❌ Система прогресса  
❌ Spaced repetition алгоритм  

### Главный вызов:

**КАК превратить 2,163 разрозненных записи в структурированную обучающую систему?**

---

## 🚀 MVP - ЦЕЛЬ НА 11 ДНЕЙ

### MVP = Minimum Viable Product

**Главная цель**: Запустить работающее приложение до 31 декабря 2025

### Что ДОЛЖНО быть в MVP:

#### ✅ ОБЯЗАТЕЛЬНЫЕ функции:

1. **Простая авторизация**
   - Email/Password (Supabase Auth)
   - Или гостевой режим

2. **РАЗГОВОРНИК** (⭐ ГЛАВНАЯ ФИЧА!)
   - Фразы по жизненным ситуациям
   - Категории: Свадьба, Похороны, Гости, Покупки, Религия
   - Поиск по ситуации
   - Избранное (сохранить нужные фразы)
   - Копирование фразы в буфер

3. **Структурированные уроки**
   - Минимум 10 уроков (A1 уровень)
   - Каждый урок = 10-15 слов
   - Прогрессия от простого к сложному

4. **3 типа упражнений**:
   - **Выбор перевода**: Дано чеченское слово → выбери русский (4 варианта)
   - **Обратный перевод**: Дано русское слово → выбери чеченское (4 варианты)
   - **Ввод с клавиатуры**: Дано русское → напечатай чеченское

5. **Базовый прогресс**
   - Счетчик XP
   - Пройденные уроки
   - Процент правильных ответов

6. **Статистика**
   - Сколько слов выучено
   - Сколько уроков пройдено
   - Точность ответов

### Что НЕ входит в MVP:

❌ Аудио (добавим потом)  
❌ Изображения (добавим потом)  
❌ Друзья и социальные функции  
❌ Достижения и геймификация  
❌ Spaced repetition (упрощенная версия)  
❌ Диалоги и истории  
❌ Говорение и аудирование  

### Метрики успеха MVP:

✓ Пользователь может пройти 10 уроков  
✓ Пользователь видит свой прогресс  
✓ Система запоминает правильные/неправильные ответы  
✓ Приложение работает на iOS и Android  

---

## 🗄️ АРХИТЕКТУРА БАЗЫ ДАННЫХ

### Философия архитектуры:

**"Start simple, scale smart"** - Начинаем с простого для MVP, но проектируем так, чтобы легко расширять.

### Схема БД для MVP (Supabase)

#### Таблица 1: `vocabulary` (улучшенная)

```sql
CREATE TABLE vocabulary (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  
  -- ОСНОВНЫЕ ДАННЫЕ
  ce TEXT NOT NULL,                    -- Чеченское слово
  ru TEXT NOT NULL,                    -- Русский перевод
  
  -- ТИП
  type TEXT NOT NULL CHECK (type IN ('word', 'phrase', 'verb')),
  category TEXT,                       -- family, food, numbers, etc.
  
  -- УРОВЕНЬ СЛОЖНОСТИ
  difficulty INTEGER CHECK (difficulty BETWEEN 1 AND 10),
  cefr_level TEXT CHECK (cefr_level IN ('A1', 'A2', 'B1', 'B2', 'C1', 'C2')),
  
  -- ДЛЯ ОБУЧЕНИЯ
  frequency TEXT CHECK (frequency IN ('very_high', 'high', 'medium', 'low', 'rare')),
  lesson_id INTEGER,                   -- В каком уроке впервые встречается
  
  -- ДОПОЛНИТЕЛЬНО (для будущего)
  audio_url TEXT,                      -- Будет потом
  image_url TEXT,                      -- Будет потом
  grammar_notes TEXT,                  -- Грамматические заметки
  
  -- МЕТАДАННЫЕ
  is_verified BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ИНДЕКСЫ для быстрого поиска
CREATE INDEX idx_vocabulary_type ON vocabulary(type);
CREATE INDEX idx_vocabulary_cefr ON vocabulary(cefr_level);
CREATE INDEX idx_vocabulary_lesson ON vocabulary(lesson_id);
CREATE INDEX idx_vocabulary_category ON vocabulary(category);
```

#### Таблица 2: `lessons` (уроки)

```sql
CREATE TABLE lessons (
  id SERIAL PRIMARY KEY,
  
  -- ИНФОРМАЦИЯ
  title_ru TEXT NOT NULL,              -- "Приветствия"
  title_ce TEXT,                       -- "Муршалла" (опционально)
  description TEXT,                    -- Описание урока
  
  -- ПОЗИЦИЯ
  order_number INTEGER NOT NULL,       -- 1, 2, 3, 4...
  cefr_level TEXT NOT NULL,
  
  -- СОДЕРЖАНИЕ
  -- vocabulary_ids будут связаны через lesson_id в таблице vocabulary
  
  -- НАСТРОЙКИ
  target_words_count INTEGER DEFAULT 10,  -- Сколько слов в уроке
  exercises_count INTEGER DEFAULT 15,     -- Сколько упражнений
  
  -- НАГРАДЫ
  xp_reward INTEGER DEFAULT 20,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(order_number)
);
```

#### Таблица 3: `exercises` (упражнения)

```sql
CREATE TABLE exercises (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  
  -- ПРИВЯЗКА
  lesson_id INTEGER REFERENCES lessons(id) ON DELETE CASCADE,
  vocabulary_id UUID REFERENCES vocabulary(id) ON DELETE CASCADE,
  
  -- ТИП УПРАЖНЕНИЯ
  exercise_type TEXT NOT NULL CHECK (exercise_type IN (
    'select_translation_ce_to_ru',     -- Дано CE → выбери RU
    'select_translation_ru_to_ce',     -- Дано RU → выбери CE
    'type_translation'                 -- Дано RU → напечатай CE
  )),
  
  -- ВОПРОС
  question TEXT NOT NULL,              -- "Баркалла" или "Спасибо"
  
  -- ПРАВИЛЬНЫЙ ОТВЕТ
  correct_answer TEXT NOT NULL,
  
  -- ВАРИАНТЫ (JSON для select типов)
  options JSONB,                       -- ["opt1", "opt2", "opt3", "opt4"]
  
  -- ПОРЯДОК
  order_in_lesson INTEGER NOT NULL,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(lesson_id, order_in_lesson)
);
```

#### Таблица 4: `user_progress` (прогресс пользователя)

```sql
CREATE TABLE user_progress (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  
  -- ОБЩИЙ ПРОГРЕСС
  total_xp INTEGER DEFAULT 0,
  current_level INTEGER DEFAULT 1,
  
  -- СТАТИСТИКА
  total_words_learned INTEGER DEFAULT 0,
  total_lessons_completed INTEGER DEFAULT 0,
  total_exercises_completed INTEGER DEFAULT 0,
  
  -- ТОЧНОСТЬ
  correct_answers INTEGER DEFAULT 0,
  incorrect_answers INTEGER DEFAULT 0,
  
  -- ВРЕМЯ
  last_activity_date DATE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(user_id)
);
```

#### Таблица 5: `user_lesson_progress` (прогресс по урокам)

```sql
CREATE TABLE user_lesson_progress (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  lesson_id INTEGER REFERENCES lessons(id) ON DELETE CASCADE,
  
  -- СТАТУС
  status TEXT CHECK (status IN ('locked', 'unlocked', 'in_progress', 'completed')),
  
  -- ПРОГРЕСС
  exercises_completed INTEGER DEFAULT 0,
  exercises_total INTEGER NOT NULL,
  
  -- РЕЗУЛЬТАТ
  correct_count INTEGER DEFAULT 0,
  incorrect_count INTEGER DEFAULT 0,
  accuracy FLOAT GENERATED ALWAYS AS (
    CASE 
      WHEN (correct_count + incorrect_count) > 0 
      THEN (correct_count::float / (correct_count + incorrect_count)) * 100
      ELSE 0
    END
  ) STORED,
  
  -- XP
  xp_earned INTEGER DEFAULT 0,
  
  -- ВРЕМЯ
  started_at TIMESTAMPTZ,
  completed_at TIMESTAMPTZ,
  
  UNIQUE(user_id, lesson_id)
);
```

#### Таблица 6: `user_vocabulary_progress` (прогресс по словам)

```sql
CREATE TABLE user_vocabulary_progress (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  vocabulary_id UUID REFERENCES vocabulary(id) ON DELETE CASCADE,
  
  -- СТАТИСТИКА
  times_seen INTEGER DEFAULT 0,
  times_correct INTEGER DEFAULT 0,
  times_incorrect INTEGER DEFAULT 0,
  
  -- УРОВЕНЬ ЗНАНИЯ (упрощенный для MVP)
  mastery_level INTEGER DEFAULT 0 CHECK (mastery_level BETWEEN 0 AND 3),
  -- 0: не встречал
  -- 1: видел, но не помню
  -- 2: знаю, но иногда ошибаюсь
  -- 3: мастер (всегда правильно)
  
  -- SPACED REPETITION (упрощенный для MVP)
  next_review_date DATE,               -- Когда показать снова
  
  -- ВРЕМЯ
  first_seen_at TIMESTAMPTZ DEFAULT NOW(),
  last_reviewed_at TIMESTAMPTZ,
  
  UNIQUE(user_id, vocabulary_id)
);
```

#### Таблица 7: `user_exercise_attempts` (история попыток)

```sql
CREATE TABLE user_exercise_attempts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  exercise_id UUID REFERENCES exercises(id) ON DELETE CASCADE,
  lesson_id INTEGER REFERENCES lessons(id) ON DELETE CASCADE,
  vocabulary_id UUID REFERENCES vocabulary(id) ON DELETE CASCADE,
  
  -- РЕЗУЛЬТАТ
  user_answer TEXT NOT NULL,
  is_correct BOOLEAN NOT NULL,
  
  -- ВРЕМЯ
  time_spent_seconds INTEGER,
  attempted_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_attempts_user ON user_exercise_attempts(user_id);
CREATE INDEX idx_attempts_vocab ON user_exercise_attempts(vocabulary_id);
```

#### Таблица 8: `phrasebook` (разговорник)

```sql
CREATE TABLE phrasebook (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  
  -- ФРАЗА
  ce TEXT NOT NULL,                    -- Чеченская фраза
  ru TEXT NOT NULL,                    -- Русский перевод
  transliteration TEXT,                -- Транслитерация (опционально)
  
  -- КАТЕГОРИЯ
  category TEXT NOT NULL CHECK (category IN (
    'greetings',                       -- Приветствия
    'farewells',                       -- Прощания
    'wedding',                         -- Свадьба
    'funeral',                         -- Похороны/поминки
    'birthday',                        -- День рождения/именины
    'guest_arrival',                   -- Приход гостей
    'guest_departure',                 -- Уход гостей
    'new_purchase',                    -- Новая покупка (одежда, дом, машина)
    'congratulations',                 -- Поздравления
    'condolences',                     -- Соболезнования
    'gratitude',                       -- Благодарность
    'apology',                         -- Извинения
    'religious',                       -- Религиозные фразы
    'meal',                            -- За столом
    'health',                          -- Здоровье
    'travel',                          -- Путешествие
    'business',                        -- Деловое общение
    'family',                          -- Семейные вопросы
    'help',                            -- Просьбы о помощи
    'emergency'                        -- Экстренные ситуации
  )),
  
  -- ПОДКАТЕГОРИЯ
  subcategory TEXT,                    -- Более детальная (опционально)
  
  -- КОНТЕКСТ ИСПОЛЬЗОВАНИЯ
  context TEXT,                        -- Когда/где использовать
  formality TEXT CHECK (formality IN ('formal', 'informal', 'neutral')),
  
  -- МУЛЬТИМЕДИА (для будущего)
  audio_url TEXT,
  
  -- ПОПУЛЯРНОСТЬ
  usage_count INTEGER DEFAULT 0,       -- Сколько раз пользователи просмотрели
  
  -- МЕТАДАННЫЕ
  is_verified BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_phrasebook_category ON phrasebook(category);
CREATE INDEX idx_phrasebook_usage ON phrasebook(usage_count DESC);
```

#### Таблица 9: `user_favorite_phrases` (избранные фразы)

```sql
CREATE TABLE user_favorite_phrases (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  phrase_id UUID REFERENCES phrasebook(id) ON DELETE CASCADE,
  
  -- ЗАМЕТКА ПОЛЬЗОВАТЕЛЯ (опционально)
  user_note TEXT,
  
  -- ВРЕМЯ
  added_at TIMESTAMPTZ DEFAULT NOW(),
  
  UNIQUE(user_id, phrase_id)
);

CREATE INDEX idx_favorite_phrases_user ON user_favorite_phrases(user_id);
```

### Диаграмма связей:

```
vocabulary
    ↓
exercises ← lessons
    ↓
user_exercise_attempts → user_lesson_progress
    ↓                          ↓
user_vocabulary_progress → user_progress
```

---

## 📖 РАЗГОВОРНИК - ДЕТАЛЬНОЕ ОПИСАНИЕ

### Философия разговорника:

**"Не учи язык - используй его!"**

Разговорник решает **реальную проблему**: человек на мероприятии (свадьба, похороны) и нужно СРОЧНО сказать правильную фразу на чеченском.

### Структура разговорника:

#### 1️⃣ КАТЕГОРИИ (20 основных)

**Приветствия** (greetings)
- Утром: "Суьйре дика йойла хьан!"
- Днем: "Де дика дойла хьан!"
- Вечером: "Суьйре дика йойла хьан!"
- Общее: "Маршалла ду хьоьга!"

**Прощания** (farewells)
- "1одика йойла хьан!"
- "Дала йойла!"
- "Диканца вехийла!"

**Свадьба** (wedding)
- Поздравление: "Ирс деза шун! Диканца вехийла!"
- Молодым: "Дала декъал дойла шуна!"
- Родителям: "Дала к1ентий йойла шуна!"

**Похороны/Поминки** (funeral)
- Соболезнования: "Дала гечдойла"
- Утешение: "Дала собар лойла шуна"
- Родственникам: "Дала дагахь доцчухула метта х1оттадойла"

**Приход в гости** (guest_arrival)
- Хозяин: "Марша вог1ийла! Чоьхьа дала!"
- Гость: "Маршалла ду шуьга!"
- Предложение сесть: "Охьахаа!"

**Уход из гостей** (guest_departure)
- Благодарность: "Баркалла массарна а хилла"
- Прощание: "1одика йойла шун"
- Ответ хозяина: "Дала йойла, марша вог1ийла"

**Новая покупка** (new_purchase)
- Одежда: "Г1оза лелайойла!"
- Дом/Машина: "Диканца йуьйцахийла!"
- Общее: "Баркалла хьуна!"

**Поздравления** (congratulations)
- День рождения: "Шен де лаьцна кхерчу денна!"
- Новорожденный: "Дала декъал дойла шуна!"
- Успех: "Баркалла! Диканца вехийла!"

**Соболезнования** (condolences)
- "Дала гечдойла"
- "Дала собар лойла"
- "Астаг1фируллах1"

**Благодарность** (gratitude)
- "Баркалла хьуна!"
- "Дела реза хилла!"
- "Массарна а хилла!"

**Извинения** (apology)
- "Бехк ма билла"
- "Гечдан дийла"
- "Къинт1ера вала"

**Религиозные** (religious)
- Перед едой: "Бисмиллах1"
- После еды: "Ал-хьамду лиллах1и"
- Молитва: "Дала г1о дойла"
- Благословение: "Дала реза хилла"

**За столом** (meal)
- Приглашение: "Дала даа!"
- Угощение: "Схьаийца!"
- Отказ: "Баркалла, дукха йиира"

**Здоровье** (health)
- Вопрос: "Могушалла муха ю?"
- Ответ: "Дика ю, баркалла"
- Пожелание: "Диканца дукха вехийла хьо"

**Путешествие** (travel)
- Счастливого пути: "Мерза некъ хилла!"
- Возвращение: "Марша дехара!"

**Деловое** (business)
- Встреча: "Хазахийти хьо вевзина"
- Прощание: "Хьовсур ду вай"

**Семейные** (family)
- Семья как?: "Доьзал муха ду?"
- Передай привет: "Салам аьла"

**Помощь** (help)
- Просьба: "Г1о дан ма дойла?"
- Ответ: "Массарна а, г1о дийр ду"

**Экстренные** (emergency)
- "Г1о дийла!"
- "Лор йоьлахь!"
- "Милиция йоьлахь!"

---

### Примеры фраз с контекстом:

```json
{
  "wedding_phrases": [
    {
      "ce": "Ирс деза шун! Диканца вехийла!",
      "ru": "Желаю вам счастья! Живите хорошо!",
      "category": "wedding",
      "context": "Говорится молодоженам при поздравлении",
      "formality": "formal"
    },
    {
      "ce": "Дала декъал дойла шуна!",
      "ru": "Дай Бог вам детей!",
      "category": "wedding",
      "context": "Пожелание молодым иметь детей",
      "formality": "formal"
    }
  ],
  
  "funeral_phrases": [
    {
      "ce": "Дала гечдойла",
      "ru": "Да простит Бог усопшего",
      "category": "funeral",
      "context": "Говорится при соболезновании",
      "formality": "formal"
    },
    {
      "ce": "Дала собар лойла шуна",
      "ru": "Да даст вам Бог терпение",
      "category": "funeral",
      "context": "Говорится родственникам усопшего",
      "formality": "formal"
    },
    {
      "ce": "Дала дагахь доцчухула метта х1оттадойла",
      "ru": "Да воздаст Бог вам добром взамен",
      "category": "funeral",
      "context": "Утешение скорбящим",
      "formality": "formal"
    }
  ],
  
  "guest_phrases": [
    {
      "ce": "Марша вог1ийла! Чоьхьа дала!",
      "ru": "Добро пожаловать! Заходите!",
      "category": "guest_arrival",
      "context": "Хозяин приглашает гостя войти",
      "formality": "neutral"
    },
    {
      "ce": "Маршалла ду шуьга!",
      "ru": "Здравствуйте!",
      "category": "guest_arrival",
      "context": "Гость приветствует хозяев",
      "formality": "neutral"
    },
    {
      "ce": "Охьахаа!",
      "ru": "Присаживайтесь!",
      "category": "guest_arrival",
      "context": "Хозяин предлагает гостю сесть",
      "formality": "neutral"
    }
  ],
  
  "new_purchase_phrases": [
    {
      "ce": "Г1оза лелайойла!",
      "ru": "Носи с радостью! (о новой одежде)",
      "category": "new_purchase",
      "context": "Говорится когда человек купил новую одежду",
      "formality": "neutral"
    },
    {
      "ce": "Диканца йуьйцахийла!",
      "ru": "Пусть будет хорошим! (о покупке)",
      "category": "new_purchase",
      "context": "Универсальное поздравление с покупкой",
      "formality": "neutral"
    }
  ]
}
```

---

### UX Flow для разговорника:

#### Экран 1: Главное меню разговорника

```
┌─────────────────────────────┐
│  📖 Разговорник             │
├─────────────────────────────┤
│                             │
│  🔍 [Поиск фразы...]        │
│                             │
│  📂 КАТЕГОРИИ:              │
│                             │
│  👋 Приветствия (15)        │
│  💒 Свадьба (12)            │
│  🕊️ Похороны (10)           │
│  🏠 В гостях (18)           │
│  👕 Новая покупка (8)       │
│  🎉 Поздравления (15)       │
│  🙏 Религиозные (20)        │
│  🍽️ За столом (12)          │
│  💝 Благодарность (8)       │
│  😔 Извинения (6)           │
│                             │
│  ⭐ Избранное (3)           │
│                             │
└─────────────────────────────┘
```

#### Экран 2: Категория (например, Свадьба)

```
┌─────────────────────────────┐
│  ← 💒 Свадьба (12 фраз)     │
├─────────────────────────────┤
│                             │
│  Молодоженам:               │
│  ┌─────────────────────┐   │
│  │ Ирс деза шун!       │   │
│  │ Диканца вехийла!    │   │
│  │                     │   │
│  │ Желаю вам счастья!  │   │
│  │ Живите хорошо!      │   │
│  │                     │   │
│  │ 🔊  📋  ⭐         │   │
│  └─────────────────────┘   │
│                             │
│  ┌─────────────────────┐   │
│  │ Дала декъал дойла   │   │
│  │ шуна!               │   │
│  │                     │   │
│  │ Дай Бог вам детей!  │   │
│  │                     │   │
│  │ 🔊  📋  ⭐         │   │
│  └─────────────────────┘   │
│                             │
│  Родителям:                 │
│  ┌─────────────────────┐   │
│  │ Дала к1ентий йойла  │   │
│  │ шуна!               │   │
│  │                     │   │
│  │ Дай Бог вам         │   │
│  │ сыновей!            │   │
│  │                     │   │
│  │ 🔊  📋  ⭐         │   │
│  └─────────────────────┘   │
│                             │
└─────────────────────────────┘

Кнопки:
🔊 - Послушать произношение (будет позже)
📋 - Скопировать в буфер обмена
⭐ - Добавить в избранное
```

#### Экран 3: Детали фразы (при нажатии)

```
┌─────────────────────────────┐
│  ← Назад                    │
├─────────────────────────────┤
│                             │
│  Ирс деза шун!              │
│  Диканца вехийла!           │
│                             │
│  Желаю вам счастья!         │
│  Живите хорошо!             │
│                             │
│  ────────────────           │
│                             │
│  📍 Когда использовать:     │
│  Говорится молодоженам при  │
│  поздравлении               │
│                             │
│  🎯 Формальность: Формально │
│                             │
│  📂 Категория: Свадьба      │
│                             │
│  ────────────────           │
│                             │
│  [🔊 Прослушать]            │
│  [📋 Скопировать]           │
│  [⭐ В избранное]           │
│  [🔗 Поделиться]            │
│                             │
└─────────────────────────────┘
```

#### Экран 4: Поиск

```
┌─────────────────────────────┐
│  🔍 Поиск фразы             │
├─────────────────────────────┤
│                             │
│  [спасибо____________]  🔍  │
│                             │
│  Результаты (3):            │
│                             │
│  ✓ Баркалла хьуна!          │
│    Спасибо тебе!            │
│    (Благодарность)          │
│                             │
│  ✓ Баркалла массарна а      │
│    хилла                    │
│    Спасибо большое!         │
│    (Благодарность)          │
│                             │
│  ✓ Дела реза хилла!         │
│    Пусть Бог будет доволен! │
│    (Религиозные)            │
│                             │
└─────────────────────────────┘
```

---

## 📚 СТРАТЕГИЯ СТРУКТУРИРОВАНИЯ КОНТЕНТА

### Главная задача:

**Превратить 2,163 записи в 10 структурированных уроков для MVP**

### Принципы структурирования:

#### 1. Прогрессия сложности

**Правило "I+1"**: Каждый урок должен быть на 1 уровень сложнее предыдущего.

```
Урок 1: 10 слов (самые простые)
Урок 2: 10 слов + 5 слов из урока 1 (повторение)
Урок 3: 10 новых + 5 из урока 2 + 3 из урока 1
...
```

#### 2. Частотность использования

Учим СНАЧАЛА самые частые слова:

- **Урок 1**: Топ-10 самых частых слов (приветствия, я/ты)
- **Урок 2**: Топ-20 следующих (семья, да/нет)
- **Урок 3**: Топ-30 следующих (числа 1-10)

#### 3. Практическая применимость

Фокус на том, что РЕАЛЬНО нужно для общения:

**Сценарий 1**: Встреча с родственниками
- Урок 1: Приветствия
- Урок 2: Семья
- Урок 3: Базовые вопросы

**Сценарий 2**: В магазине
- Урок 4: Числа
- Урок 5: Еда
- Урок 6: "Хочу/Не хочу"

#### 4. Грамматика постепенно

Не грузим грамматикой сразу:

**Уроки 1-3**: ТОЛЬКО слова (без объяснения грамматики)
**Уроки 4-6**: Вводим простую грамматику (показатели класса)
**Уроки 7-10**: Базовые глаголы в настоящем времени

### План 10 уроков для MVP:

#### УРОК 1: "Первые слова" (A1)
**Цель**: Научиться здороваться и благодарить

**Словарь** (10 слов):
1. Баркалла - Спасибо
2. Х1аъ - Да
3. Х1ан-х1а - Нет
4. Дика - Хороший
5. Со - Я
6. Хьо - Ты
7. Суьйре - Утро
8. Де - День
9. Маршалла - Приветствие
10. 1одика - До свидания

**Фразы**:
- Баркалла! - Спасибо!
- Де дика дойла! - Добрый день!

**Упражнения** (15 штук):
- 5x Select CE→RU
- 5x Select RU→CE
- 5x Type translation

---

#### УРОК 2: "Я и моя семья" (A1)
**Цель**: Рассказать о семье

**Словарь** (10 слов):
1. Да - Отец
2. Нана - Мать
3. Ваша - Брат
4. Йиша - Сестра
5. К1ант - Сын
6. Йо1 - Дочь
7. Доьзал - Семья
8. Сан - Мой
9. Хьан - Твой
10. Цуьнан - Его/её

**Повторение**: Со, Хьо, Иза (из урока 1)

**Фразы**:
- Сан да - Мой отец
- Хьан нана - Твоя мать

**Упражнения** (15 штук)

---

#### УРОК 3: "Числа 1-10" (A1)
**Цель**: Считать от 1 до 10

**Словарь** (10 слов):
1. Цхьаъ - Один
2. Шиъ - Два
3. Кхоъ - Три
4. Диъ - Четыре
5. Пхиъ - Пять
6. Ялх - Шесть
7. Ворх1 - Семь
8. Барх1 - Восемь
9. Исс - Девять
10. Итт - Десять

**Повторение**: Да, Нана, Ваша (из урока 2)

**Фразы**:
- Цхьаъ к1ант - Один сын
- Ши йо1 - Две дочери

**Упражнения** (15 штук)

---

#### УРОК 4: "Есть или нет?" (A1)
**Цель**: Говорить что есть/нет

**Словарь** (10 слов):
1. Ву - Есть (м.р.)
2. Ю - Есть (ж.р.)
3. Бу - Есть (мн.ч.)
4. Ду - Есть (вещи)
5. Вац - Нет (м.р.)
6. Яц - Нет (ж.р.)
7. Бац - Нет (мн.ч.)
8. Дац - Нет (вещи)
9. Ц1а - Дом
10. Школа - Школа

**Повторение**: Со, Хьо, Иза + показать связь с ву/ю/ду

**Фразы**:
- Со ваша ву - Мой брат есть
- Сан йиша ю - Моя сестра есть
- Дешархой бу - Ученики есть

**Упражнения** (15 штук) + грамматическая справка

---

#### УРОК 5: "Еда" (A1)
**Цель**: Назвать базовые продукты

**Словарь** (10 слов):
1. Бепиг - Хлеб
2. Хи - Вода
3. Чай - Чай
4. Шура - Молоко
5. 1аж - Яблоко
6. Чорпа - Суп
7. Мала - Пить
8. Даа - Есть (кушать)
9. Деза - Хочу
10. Ца деза - Не хочу

**Повторение**: Числа (считаем еду)

**Фразы**:
- Суна чай деза - Я хочу чай
- Со бепиг ца деза - Я не хочу хлеб

**Упражнения** (15 штук)

---

#### УРОК 6: "Где?" (A1)
**Цель**: Спросить и сказать где что-то находится

**Словарь** (10 слов):
1. Мичахь? - Где?
2. Базар - Рынок
3. Больница - Больница
4. Юьрт - Село
5. Г1ала - Город
6. Чу - В
7. Чохь - В (местонахождение)
8. Т1е - На
9. Т1ехь - На (местонахождение)
10. Арахь - На улице

**Повторение**: Семья + места

**Фразы**:
- Нана школехь ю - Мама в школе
- Да базарахь ву - Папа на рынке

**Упражнения** (15 штук)

---

#### УРОК 7: "Вопросы" (A1-A2)
**Цель**: Задавать простые вопросы

**Словарь** (10 слов):
1. Мила? - Кто?
2. Х1ун? - Что?
3. Маса? - Сколько?
4. Муха? - Как?
5. Маца? - Когда?
6. Х1унда? - Почему?
7. Хьан ц1е х1ун? - Как тебя зовут?
8. Маса що ду? - Сколько лет?
9. Хьо мичахь ву? - Где ты?
10. Муха ву хьо? - Как ты?

**Повторение**: Всё предыдущее

**Фразы**:
- Хьан ц1е х1ун ю? - Как тебя зовут?
- Сан ткъе ворх1 шо ду - Мне 27 лет

**Упражнения** (15 штук)

---

#### УРОК 8: "Делать" (A2)
**Цель**: Использовать глагол "делать" в настоящем

**Словарь** (10 слов):
1. Дан - Делать
2. До - Делаю
3. Деш ву - Делаю (сейчас)
4. Болх - Работа
5. Болх бан - Работать
6. Ваха - Идти
7. Воьду - Иду
8. Ван - Приходить
9. Вог1у - Прихожу
10. Г1ур - Пойду

**Повторение**: Места + глаголы движения

**Фразы**:
- Со болх до - Я работаю
- Хьо балха воьду - Ты идешь на работу
- Со ц1а г1ур ву - Я пойду домой

**Упражнения** (15 штук)

---

#### УРОК 9: "Хотеть и любить" (A2)
**Цель**: Выражать желания

**Словарь** (10 слов):
1. Деза - Хочу/Люблю
2. Дезар - Захочу
3. Ца деза - Не хочу
4. Дукха деза - Очень люблю
5. Лаа - Хотеть (с глаголами)
6. Мала лаа - Хочу пить
7. Дукха - Много
8. К1еззиг - Мало
9. Мерза - Вкусный
10. Теза - Пресный

**Повторение**: Еда + желания

**Фразы**:
- Суна чай деза - Я хочу чай
- Со мала лаа - Я хочу пить
- Суна хьо дукха деза - Я тебя очень люблю

**Упражнения** (15 штук)

---

#### УРОК 10: "Прошедшее время" (A2)
**Цель**: Рассказать что было вчера

**Словарь** (10 слов):
1. Селхана - Вчера
2. Кхана - Завтра
3. Тахана - Сегодня
4. Вахара - Пошел
5. Веара - Пришел
6. Дира - Делал
7. Йиира - Поел
8. Мелира - Выпил
9. Гира - Видел
10. Хезира - Услышал

**Повторение**: Глаголы из урока 8

**Фразы**:
- Со селхана балха вахара - Я вчера пошел на работу
- Нана базарахь веара - Мама пришла с рынка
- Ас чай мелира - Я выпил чай

**Упражнения** (15 штук)

---

### Метрика успеха:

После 10 уроков пользователь должен:
- ✅ Знать 100 базовых слов
- ✅ Уметь представиться
- ✅ Рассказать о семье
- ✅ Считать до 10
- ✅ Сказать что хочет/не хочет
- ✅ Спросить где что-то находится
- ✅ Использовать 5 глаголов в настоящем и прошедшем

---

## 🎓 УЧЕБНАЯ МЕТОДОЛОГИЯ

### Принципы эффективного обучения:

#### 1. Input Hypothesis (Krashen)
**"i + 1"** - Учим на уровне чуть выше текущего

Реализация:
- Урок 1: 10 новых слов
- Урок 2: 10 новых + 3 повторения из урока 1
- Урок 3: 10 новых + 3 из урока 2 + 2 из урока 1

#### 2. Spaced Repetition (упрощенный для MVP)

**Алгоритм**:
```
Правильно ответил → показать через 3 дня
Ошибся → показать через 1 день
Ошибся 2 раза → показать в следующем уроке
```

Реализация в БД:
```sql
UPDATE user_vocabulary_progress
SET 
  next_review_date = CURRENT_DATE + INTERVAL '3 days',
  mastery_level = mastery_level + 1
WHERE is_correct = true;
```

#### 3. Active Recall vs Recognition

**Прогрессия сложности упражнений**:

1. **Recognition** (легко): Видишь CE → выбираешь RU
2. **Recall** (средне): Видишь RU → выбираешь CE
3. **Production** (сложно): Видишь RU → печатаешь CE

**В каждом уроке**:
- 5 упражнений Recognition
- 5 упражнений Recall
- 5 упражнений Production

#### 4. Contextual Learning

**Не учим слова изолированно** - всегда в контексте!

❌ Плохо:
```
Баркалла = Спасибо
```

✅ Хорошо:
```
Баркалла хьуна! = Спасибо тебе!
Де дика дойла! = Добрый день!
```

#### 5. Error Correction Strategy

**Как реагировать на ошибки**:

1. **Immediate Feedback**: Сразу показываем правильный ответ
2. **Explanation**: "Правильно: Баркалла. Вы написали: Баркала"
3. **Retry**: Даем попробовать еще раз в конце урока
4. **Spaced**: Возвращаем это слово в следующем уроке

---

## 👤 ПОЛЬЗОВАТЕЛЬСКИЙ ОПЫТ (UX FLOW)

### Полный путь пользователя в MVP:

#### 1. Онбординг (первый запуск)

```
Экран 1: Приветствие
  "Добро пожаловать в изучение чеченского языка!"
  [Кнопка: Начать]

Экран 2: Выбор цели
  "Почему вы хотите учить чеченский?"
  [ ] Общаться с семьей
  [ ] Интерес к культуре
  [ ] Путешествия
  [ ] Другое
  [Кнопка: Продолжить]

Экран 3: Уровень
  "Вы знаете чеченский?"
  ( ) Полный новичок
  ( ) Знаю немного
  ( ) Средний уровень
  [Кнопка: Начать обучение]

→ Переход на главный экран
```

#### 2. Главный экран (Home)

```
┌─────────────────────────────┐
│  👤 Профиль     🔥 Стрик: 0 │
├─────────────────────────────┤
│                             │
│   💎 XP: 0 / 100            │
│   ████░░░░░░░░░░░░░░░       │
│                             │
│   📚 Уроки (10)             │
│                             │
│   [1] ✓ Первые слова        │
│   [2] 🔒 Я и моя семья      │
│   [3] 🔒 Числа 1-10         │
│   [4] 🔒 Есть или нет?      │
│   [5] 🔒 Еда                │
│   ...                       │
│                             │
│   📊 Статистика             │
│   • Слов выучено: 0         │
│   • Точность: 0%            │
│                             │
└─────────────────────────────┘
```

#### 3. Начало урока

```
Экран: Урок 1 - Первые слова
  
  "В этом уроке вы выучите 10 базовых слов для общения"
  
  📝 Новые слова: 10
  ⚡ Упражнений: 15
  💎 Награда: 20 XP
  
  [Кнопка: Начать урок]
```

#### 4. Учебные карточки (перед упражнениями)

```
Карточка 1/10
  
  ┌─────────────────────┐
  │                     │
  │    Баркалла         │
  │                     │
  │    Спасибо          │
  │                     │
  └─────────────────────┘
  
  [Кнопка: Дальше]
```

Показываем 10 карточек со словами, потом начинаем упражнения.

#### 5. Упражнение Type 1: Select CE→RU

```
Упражнение 1/15
████░░░░░░░░░░░░

Выберите перевод:

  Баркалла

  [ А ] Привет
  [ Б ] Спасибо     ← Правильно!
  [ В ] До свидания
  [ Г ] Пожалуйста

[Кнопка: Проверить]
```

**После ответа**:
- ✅ Правильно: зеленая анимация + "Отлично! +5 XP"
- ❌ Неправильно: красная анимация + "Правильно: Спасибо"

#### 6. Упражнение Type 2: Select RU→CE

```
Упражнение 5/15
███████░░░░░░░░░

Как будет "Спасибо" на чеченском?

  [ А ] Маршалла
  [ Б ] Дика
  [ В ] Баркалла    ← Правильно!
  [ Г ] 1одика

[Кнопка: Проверить]
```

#### 7. Упражнение Type 3: Type Translation

```
Упражнение 10/15
██████████░░░░░░

Напишите перевод:

  Спасибо

  ┌──────────────────┐
  │ [Ваш ответ]      │
  └──────────────────┘

[Кнопка: Проверить]

💡 Подсказка: Баркалла
```

**Проверка**:
- Точное совпадение: ✅
- Опечатка (1-2 символа): ⚠️ "Почти правильно, но есть опечатка"
- Неправильно: ❌ "Правильно: Баркалла"

#### 8. Завершение урока

```
Урок завершен! 🎉

  ✅ Правильных: 13/15 (87%)
  ❌ Ошибок: 2
  
  💎 Заработано: 20 XP
  
  📊 Новые слова выучено: 10
  
  ─────────────────────
  
  [Кнопка: Продолжить]
  [Кнопка: Повторить урок]
```

#### 9. Разблокировка следующего урока

```
Урок 2 разблокирован! 🔓

  "Я и моя семья"
  
  Вы готовы продолжить?
  
  [Кнопка: Начать урок 2]
  [Кнопка: Вернуться на главную]
```

#### 10. Профиль пользователя

```
┌─────────────────────────────┐
│  👤 Ваш профиль             │
├─────────────────────────────┤
│                             │
│  Уровень: 1                 │
│  💎 XP: 20 / 100            │
│                             │
│  📚 Статистика:             │
│  • Уроков пройдено: 1/10    │
│  • Слов выучено: 10/100     │
│  • Точность: 87%            │
│  • Время занятий: 5 мин     │
│                             │
│  🔥 Стрик: 1 день           │
│  📅 Последнее занятие:      │
│     20 декабря 2025         │
│                             │
└─────────────────────────────┘
```

---

## 🤖 ПРОМПТЫ ДЛЯ CLAUDE CODE

### Промпт 1: Анализ и структурирование данных

```markdown
# ЗАДАЧА 1: Анализ текущей базы данных и создание структуры для MVP

## КОНТЕКСТ
Ты работаешь над чеченским языковым приложением (аналог Duolingo). У нас есть 2,163 записи в Supabase, но они не структурированы для обучения. Твоя задача - проанализировать данные и подготовить их для MVP (10 уроков).

## ВХОДНЫЕ ДАННЫЕ
1. Supabase таблица `vocabulary`:
   - Подключись к: [URL]
   - API Key: [KEY]
   - 2,163 записи с полями: id, ce, ru, type, category, is_verified

2. Файл "Чеченская База Знаний" (188 страниц) - уже загружен

3. JSON файлы (порции 1-80) - уже загружены

## ТВОЯ ЗАДАЧА

### ШАГ 1: ЗАГРУЗКА ДАННЫХ

Загрузи все данные в память:

```python
import os
from supabase import create_client

# Подключение к Supabase
url = os.environ.get("SUPABASE_URL")
key = os.environ.get("SUPABASE_KEY")
supabase = create_client(url, key)

# Загрузить все записи
response = supabase.table('vocabulary').select("*").execute()
all_records = response.data

print(f"Загружено записей: {len(all_records)}")
```

### ШАГ 2: АНАЛИЗ ДАННЫХ

Проанализируй данные и выдай статистику:

1. Сколько уникальных слов (type='word')?
2. Сколько фраз (type='phrase')?
3. Сколько глаголов (type='verb')?
4. Какие категории есть? (выведи топ-20)
5. Есть ли дубликаты? (одинаковые ce или ru)
6. Есть ли записи без перевода?

### ШАГ 3: КАТЕГОРИЗАЦИЯ ПО УРОВНЯМ

Для КАЖДОЙ записи определи CEFR уровень (A1, A2, B1, B2) используя эти правила:

**A1** (присвой если запись это):
- Приветствия: "Баркалла", "Суьйре дика", "Маршалла", "1одика"
- Местоимения: "со", "хьо", "иза", "вай", "шу", "уьш"
- Семья базовая: "да", "нана", "ваша", "йиша", "к1ант", "йо1"
- Числа 1-20: "цхьаъ", "шиъ", "кхоъ", "диъ", "пхиъ", "ялх", "ворх1", "барх1", "исс", "итт"
- Еда базовая: "бепиг", "хи", "чай", "шура"
- Показатели класса: "ву", "ю", "бу", "ду" и отрицательные
- Базовые вопросы: "мила?", "х1ун?", "маса?", "мичахь?"

**A2**:
- Расширенная семья
- Числа 20-100
- Места: "школа", "базар", "больница", "г1ала"
- Время: "селхана", "кхана", "тахана"
- Части тела
- Простые послелоги

**B1**:
- Все времена глаголов
- Сложные фразы
- Диалоги

**B2**:
- Редкая лексика

Добавь поля:
- `cefr_level` (A1/A2/B1/B2)
- `difficulty` (1-10)
- `frequency` (very_high/high/medium/low/rare)

### ШАГ 4: ОПРЕДЕЛЕНИЕ ЧАСТОТНОСТИ

Определи frequency для каждого слова:

**very_high** (присвой если):
- Приветствия
- Местоимения
- Числа 1-10
- Семья базовая (мама, папа, брат, сестра)
- Да/нет
- Показатели класса

**high**:
- Еда
- Места
- Основные глаголы (делать, идти, хотеть)

**medium**:
- Остальные часто используемые слова

**low/rare**:
- Специфическая лексика

### ШАГ 5: ИЗВЛЕЧЕНИЕ СЛОВ ИЗ ФРАЗ

Для каждой записи где type='phrase':

1. Разбери фразу на отдельные слова
2. Для каждого слова:
   - Проверь: есть ли оно уже в базе как отдельное слово?
   - Если НЕТ - создай новую запись с type='word'
   - Если ДА - просто запомни связь

Пример:
```python
phrase = "Со балха вахара"
words = ["со", "балха", "вахара"]

for word in words:
    existing = find_word_in_db(word)
    if not existing:
        # Создать новую запись
        new_word = {
            "ce": word,
            "ru": "?",  # Попытайся определить из контекста
            "type": "word",
            "source": "extracted_from_phrase"
        }
```

**ВАЖНО**: Не придумывай переводы! Если не можешь определить - ставь "?"

### ШАГ 6: СОЗДАНИЕ 10 УРОКОВ

Создай структуру для 10 уроков согласно плану:

```json
{
  "lessons": [
    {
      "id": 1,
      "order_number": 1,
      "title_ru": "Первые слова",
      "title_ce": "Хьалхара дошнаш",
      "cefr_level": "A1",
      "description": "Научитесь здороваться и благодарить",
      
      "vocabulary": [
        {
          "id": "uuid-123",
          "ce": "Баркалла",
          "ru": "Спасибо",
          "type": "word",
          "difficulty": 1,
          "frequency": "very_high"
        },
        // ... 9 еще слов
      ],
      
      "target_words_count": 10,
      "exercises_count": 15,
      "xp_reward": 20
    },
    // ... остальные 9 уроков
  ]
}
```

### ШАГ 7: ГЕНЕРАЦИЯ УПРАЖНЕНИЙ

Для КАЖДОГО урока создай 15 упражнений:

**Упражнения 1-5**: `select_translation_ce_to_ru`
**Упражнения 6-10**: `select_translation_ru_to_ce`
**Упражнения 11-15**: `type_translation`

Для упражнений с выбором генерируй 4 варианта:
1. Правильный ответ
2. Слово из той же категории
3. Слово похожее по написанию
4. Случайное слово того же уровня

Пример:
```json
{
  "exercise_id": "uuid-456",
  "lesson_id": 1,
  "vocabulary_id": "uuid-123",
  "exercise_type": "select_translation_ce_to_ru",
  "question": "Баркалла",
  "correct_answer": "Спасибо",
  "options": ["Спасибо", "Привет", "До свидания", "Пожалуйста"],
  "order_in_lesson": 1
}
```

### ШАГ 8: ВЫВОД РЕЗУЛЬТАТА

Создай файлы:

1. **`mvp_lessons_structure.json`** - полная структура уроков
2. **`mvp_vocabulary.json`** - все слова для MVP (100 слов)
3. **`mvp_exercises.json`** - все упражнения (150 штук)
4. **`analysis_report.json`** - отчет об анализе
5. **`sql_migration.sql`** - SQL скрипт для обновления Supabase

### ШАГ 9: СТАТИСТИКА

Выдай статистику:

```
✅ АНАЛИЗ ЗАВЕРШЕН

📊 ИСХОДНЫЕ ДАННЫЕ:
- Всего записей: 2,163
- Слов: XXX
- Фраз: XXX
- Глаголов: XXX

📊 ПОСЛЕ ОБРАБОТКИ:
- A1: XXX записей
- A2: XXX записей
- B1: XXX записей
- B2: XXX записей

📚 MVP (10 УРОКОВ):
- Уроков создано: 10
- Слов в MVP: 100
- Упражнений: 150

🎯 ТОП-20 САМЫХ ЧАСТЫХ СЛОВ:
1. со (я) - frequency: very_high
2. хьо (ты) - frequency: very_high
...

⚠️ ПРОБЛЕМЫ:
- Дубликаты: XXX
- Без перевода: XXX
- Неопределенный уровень: XXX
```

## НАЧИНАЙ РАБОТУ!
```

---

### Промпт 2: Загрузка данных в Supabase

```markdown
# ЗАДАЧА 2: Загрузка структурированных данных в Supabase

## ПРЕДУСЛОВИЕ
У тебя уже есть файлы:
- `mvp_lessons_structure.json`
- `mvp_vocabulary.json`
- `mvp_exercises.json`

## ТВОЯ ЗАДАЧА

### ШАГ 1: ОБНОВЛЕНИЕ VOCABULARY

Обнови существующие записи в таблице `vocabulary`:

```python
import json

# Загрузи данные
with open('mvp_vocabulary.json', 'r', encoding='utf-8') as f:
    vocab_data = json.load(f)

# Для каждой записи
for item in vocab_data:
    # Обнови в Supabase
    supabase.table('vocabulary').update({
        'cefr_level': item['cefr_level'],
        'difficulty': item['difficulty'],
        'frequency': item['frequency'],
        'lesson_id': item.get('lesson_id'),
        'updated_at': 'now()'
    }).eq('id', item['id']).execute()

print("✅ Vocabulary обновлен")
```

### ШАГ 2: СОЗДАНИЕ LESSONS

Создай записи в таблице `lessons`:

```python
with open('mvp_lessons_structure.json', 'r', encoding='utf-8') as f:
    lessons_data = json.load(f)

for lesson in lessons_data['lessons']:
    supabase.table('lessons').insert({
        'order_number': lesson['order_number'],
        'title_ru': lesson['title_ru'],
        'title_ce': lesson['title_ce'],
        'description': lesson['description'],
        'cefr_level': lesson['cefr_level'],
        'target_words_count': lesson['target_words_count'],
        'exercises_count': lesson['exercises_count'],
        'xp_reward': lesson['xp_reward']
    }).execute()

print("✅ Lessons созданы")
```

### ШАГ 3: СОЗДАНИЕ EXERCISES

Создай упражнения:

```python
with open('mvp_exercises.json', 'r', encoding='utf-8') as f:
    exercises_data = json.load(f)

for exercise in exercises_data:
    supabase.table('exercises').insert({
        'lesson_id': exercise['lesson_id'],
        'vocabulary_id': exercise['vocabulary_id'],
        'exercise_type': exercise['exercise_type'],
        'question': exercise['question'],
        'correct_answer': exercise['correct_answer'],
        'options': json.dumps(exercise.get('options')),
        'order_in_lesson': exercise['order_in_lesson']
    }).execute()

print("✅ Exercises созданы")
```

### ШАГ 4: ПРОВЕРКА

Проверь что всё загружено:

```python
# Проверка уроков
lessons_count = supabase.table('lessons').select('id', count='exact').execute()
print(f"Уроков в БД: {lessons_count.count}")

# Проверка упражнений
exercises_count = supabase.table('exercises').select('id', count='exact').execute()
print(f"Упражнений в БД: {exercises_count.count}")

# Проверка словаря
vocab_with_level = supabase.table('vocabulary').select('id', count='exact').not_.is_('cefr_level', 'null').execute()
print(f"Слов с уровнем: {vocab_with_level.count}")
```

## НАЧИНАЙ ЗАГРУЗКУ!
```

---

### Промпт 3: Создание API endpoints

```markdown
# ЗАДАЧА 3: Создание API для мобильного приложения

## КОНТЕКСТ
Мобильное приложение (React Native / Flutter) должно получать данные из Supabase через API endpoints.

## ТВОЯ ЗАДАЧА

Создай файл `api_endpoints.ts` с функциями для работы с данными.

### Функция 1: Получить все уроки

```typescript
export async function getLessons(userId: string) {
  // Получить все уроки
  const { data: lessons, error } = await supabase
    .from('lessons')
    .select('*')
    .order('order_number', { ascending: true });
  
  if (error) throw error;
  
  // Для каждого урока получить прогресс пользователя
  const lessonsWithProgress = await Promise.all(
    lessons.map(async (lesson) => {
      const { data: progress } = await supabase
        .from('user_lesson_progress')
        .select('*')
        .eq('user_id', userId)
        .eq('lesson_id', lesson.id)
        .single();
      
      return {
        ...lesson,
        status: progress?.status || 'locked',
        progress: progress || null
      };
    })
  );
  
  return lessonsWithProgress;
}
```

### Функция 2: Получить урок с упражнениями

```typescript
export async function getLessonWithExercises(lessonId: number) {
  // Получить урок
  const { data: lesson, error: lessonError } = await supabase
    .from('lessons')
    .select('*')
    .eq('id', lessonId)
    .single();
  
  if (lessonError) throw lessonError;
  
  // Получить упражнения
  const { data: exercises, error: exercisesError } = await supabase
    .from('exercises')
    .select(`
      *,
      vocabulary:vocabulary_id (*)
    `)
    .eq('lesson_id', lessonId)
    .order('order_in_lesson', { ascending: true });
  
  if (exercisesError) throw exercisesError;
  
  return {
    ...lesson,
    exercises
  };
}
```

### Функция 3: Сохранить попытку упражнения

```typescript
export async function saveExerciseAttempt(
  userId: string,
  exerciseId: string,
  vocabularyId: string,
  lessonId: number,
  userAnswer: string,
  isCorrect: boolean,
  timeSpent: number
) {
  // Сохранить попытку
  const { data, error } = await supabase
    .from('user_exercise_attempts')
    .insert({
      user_id: userId,
      exercise_id: exerciseId,
      vocabulary_id: vocabularyId,
      lesson_id: lessonId,
      user_answer: userAnswer,
      is_correct: isCorrect,
      time_spent_seconds: timeSpent
    });
  
  if (error) throw error;
  
  // Обновить прогресс по слову
  await updateVocabularyProgress(userId, vocabularyId, isCorrect);
  
  return data;
}
```

### Функция 4: Обновить прогресс урока

```typescript
export async function updateLessonProgress(
  userId: string,
  lessonId: number,
  exercisesCompleted: number,
  exercisesTotal: number,
  correctCount: number,
  incorrectCount: number
) {
  const status = exercisesCompleted === exercisesTotal ? 'completed' : 'in_progress';
  
  const { data, error } = await supabase
    .from('user_lesson_progress')
    .upsert({
      user_id: userId,
      lesson_id: lessonId,
      status: status,
      exercises_completed: exercisesCompleted,
      exercises_total: exercisesTotal,
      correct_count: correctCount,
      incorrect_count: incorrectCount,
      completed_at: status === 'completed' ? new Date().toISOString() : null
    }, {
      onConflict: 'user_id,lesson_id'
    });
  
  if (error) throw error;
  
  return data;
}
```

### Функция 5: Получить статистику пользователя

```typescript
export async function getUserStats(userId: string) {
  const { data, error } = await supabase
    .from('user_progress')
    .select('*')
    .eq('user_id', userId)
    .single();
  
  if (error) throw error;
  
  return data;
}
```

## СОЗДАЙ ФАЙЛ!
```

---

## 📅 ПЛАН РАЗРАБОТКИ ПО ЭТАПАМ

### 🎯 ЦЕЛЬ: Запустить MVP до 31 декабря 2025 (11 дней)

---

### ЭТАП 1: Структурирование данных (20-21 декабря)
**Время**: 2 дня  
**Ответственный**: Claude Code

**Задачи**:
- [x] Проанализировать 2,163 записи
- [x] Определить CEFR уровни
- [x] Извлечь слова из фраз
- [x] Создать структуру 10 уроков
- [x] Сгенерировать 150 упражнений
- [x] Создать JSON файлы

**Результат**: Готовые JSON файлы с данными

---

### ЭТАП 2: Обновление базы данных (22 декабря)
**Время**: 1 день  
**Ответственный**: Claude Code + Разработчик

**Задачи**:
- [ ] Запустить SQL миграции (новые таблицы)
- [ ] Загрузить уроки в Supabase
- [ ] Загрузить упражнения в Supabase
- [ ] Обновить vocabulary с уровнями
- [ ] Протестировать queries

**Результат**: База данных готова

---

### ЭТАП 3: API Endpoints (23 декабря)
**Время**: 1 день  
**Ответственный**: Разработчик

**Задачи**:
- [ ] Создать API функции
- [ ] Протестировать endpoints
- [ ] Документировать API

**Результат**: API готов для фронтенда

---

### ЭТАП 4: Мобильное приложение - UI (24-26 декабря)
**Время**: 3 дня  
**Ответственный**: Разработчик

**Задачи**:
- [ ] Экраны онбординга
- [ ] Главный экран (список уроков)
- [ ] Экран урока (карточки слов)
- [ ] Экраны упражнений (3 типа)
- [ ] Экран результатов
- [ ] Экран профиля

**Результат**: UI готов

---

### ЭТАП 5: Логика приложения (27-28 декабря)
**Время**: 2 дня  
**Ответственный**: Разработчик

**Задачи**:
- [ ] Интеграция с API
- [ ] Логика прогресса
- [ ] Подсчет XP
- [ ] Разблокировка уроков
- [ ] Сохранение ответов
- [ ] Обновление статистики

**Результат**: Приложение работает

---

### ЭТАП 6: Тестирование (29 декабря)
**Время**: 1 день  
**Ответственный**: Команда

**Задачи**:
- [ ] Пройти все 10 уроков
- [ ] Проверить подсчет XP
- [ ] Проверить разблокировку
- [ ] Проверить сохранение прогресса
- [ ] Исправить баги

**Результат**: Приложение протестировано

---

### ЭТАП 7: Деплой (30 декабря)
**Время**: 1 день  
**Ответственный**: Разработчик

**Задачи**:
- [ ] Собрать iOS билд
- [ ] Собрать Android билд
- [ ] Загрузить в TestFlight
- [ ] Загрузить в Google Play (internal testing)
- [ ] Пригласить бета-тестеров

**Результат**: MVP в руках тестеров

---

### ЭТАП 8: Запуск (31 декабря)
**Время**: 1 день  
**Ответственный**: Команда

**Задачи**:
- [ ] Собрать фидбек от тестеров
- [ ] Исправить критичные баги
- [ ] Праздновать! 🎉

**Результат**: MVP ЗАПУЩЕН!

---

## 💼 БИЗНЕС-СТРАТЕГИЯ

### Монетизация (после MVP):

#### Модель 1: Freemium
- **Бесплатно**: Первые 5 уроков (A1)
- **Premium** ($4.99/месяц): Все уроки + будущие функции

#### Модель 2: Ads
- Показывать рекламу между уроками
- Премиум убирает рекламу

#### Модель 3: Lifetime
- $29.99 - навсегда все функции

### Маркетинг:

#### Целевая аудитория:
1. **Чеченская диаспора** (100к+ человек)
   - Instagram, TikTok, YouTube
   - Группы в соцсетях

2. **Изучающие языки**
   - Reddit (r/languagelearning)
   - Duolingo форумы

3. **Лингвисты**
   - Университеты
   - Научные сообщества

#### Каналы продвижения:
- 📱 Instagram Reels (короткие уроки)
- 🎥 YouTube (длинные разборы)
- 📝 Blog (статьи о чеченском)
- 👥 Community (Telegram группа)

### Метрики:

#### MVP (первые 3 месяца):
- **DAU**: 100 активных пользователей
- **Retention D7**: 30%
- **Завершение урока 1**: 70%

#### После 6 месяцев:
- **MAU**: 5,000 пользователей
- **Платных**: 500 (10% конверсия)
- **MRR**: $2,500

---

## 🚀 БУДУЩЕЕ РАЗВИТИЕ

### Фаза 2: Расширение (январь-март 2026)

**Добавляем**:
- ✅ Аудио для всех слов
- ✅ Изображения для существительных
- ✅ Уроки 11-30 (A2 уровень)
- ✅ Spaced repetition полноценный
- ✅ Достижения и геймификация

### Фаза 3: Социальные функции (апрель-июнь 2026)

**Добавляем**:
- ✅ Друзья
- ✅ Лидерборд
- ✅ Соревнования
- ✅ Групповые челленджи
- ✅ Комментарии к урокам

### Фаза 4: Продвинутые функции (июль-декабрь 2026)

**Добавляем**:
- ✅ Говорение (speech recognition)
- ✅ Диалоги (conversations)
- ✅ Истории (stories)
- ✅ Уроки B1-B2
- ✅ Грамматические справки
- ✅ Видео уроки

### Фаза 5: Платформа (2027+)

**Превращаем в**:
- ✅ Web версию
- ✅ Desktop приложение
- ✅ API для разработчиков
- ✅ Marketplace курсов
- ✅ AI tutoring (персональный наставник)

---

## ✅ ЧЕКЛИСТ ГОТОВНОСТИ MVP

### База данных:
- [ ] Таблицы созданы
- [ ] Уроки загружены (10 штук)
- [ ] Упражнения загружены (150 штук)
- [ ] Vocabulary обновлен (уровни, сложность)
- [ ] Индексы созданы

### API:
- [ ] Функции созданы
- [ ] Endpoints протестированы
- [ ] Документация написана

### Приложение:
- [ ] UI реализован
- [ ] Логика работает
- [ ] Прогресс сохраняется
- [ ] Статистика подсчитывается

### Тестирование:
- [ ] Пройдены все 10 уроков
- [ ] Нет критичных багов
- [ ] Работает на iOS
- [ ] Работает на Android

### Деплой:
- [ ] Билды собраны
- [ ] Загружены в сторы
- [ ] Бета-тестеры приглашены

---

## 🎯 СЛЕДУЮЩИЕ ШАГИ

### Для Claude Code:

1. Запусти **Промпт 1** - проанализируй данные
2. Создай JSON файлы
3. Запусти **Промпт 2** - загрузи в Supabase
4. Создай API endpoints

### Для разработчика:

1. Создай React Native проект
2. Интегрируй Supabase
3. Реализуй UI по макетам выше
4. Тестируй!

---

## 📞 КОНТАКТЫ И ПОДДЕРЖКА

Если что-то непонятно - спрашивай!

Давай создадим лучшее приложение для изучения чеченского языка! 🚀🔥

---

**Документ создан**: 20 декабря 2025  
**Версия**: 1.0  
**Статус**: Ready for implementation  
**Цель**: MVP до 31 декабря 2025

**LET'S GO!** 💪
